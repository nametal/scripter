#!/bin/bash

currentDir=$( cd "$( dirname "${BASH_SOURCE[0]}" )" && pwd )

# unicode symbol
uSMILE='\u263A'
uFROWN='\u2639'
uCHECK='\u2611'
uWRONG='\u2612'

# color constants
clDARKGRAY="\e[0;30m"
clRED="\e[0;31m"
clGREEN="\e[0;32m"
clYELLOW="\e[0;33m"
clBLUE="\e[0;34m"
clPURPLE="\e[0;35m"
clTURQUOISE="\e[0;36m"
clWHITE="\e[0;37m"
# bold color
cDARKGRAY="\e[1;30m"
cRED="\e[1;31m"
cGREEN="\e[1;32m"
cYELLOW="\e[1;33m"
cBLUE="\e[1;34m"
cPURPLE="\e[1;35m"
cTURQUOISE="\e[1;36m"
cWHITE="\e[1;37m"
cLIGHTGRAY="\e[00m"

# color with non-printing char (to correctly calculate word-wrapping)
cclDARKGRAY='\[\e[0;30m\]'
cclRED='\[\e[0;31m\]'
cclGREEN='\[\e[0;32m\]'
cclYELLOW='\[\e[0;33m\]'
cclBLUE='\[\e[0;34m\]'
cclPURPLE='\[\e[0;35m\]'
cclTURQUOISE='\[\e[0;36m\]'
cclWHITE='\[\e[0;37m\]'
# bold color
ccDARKGRAY='\[\e[1;30m\]'
ccRED='\[\e[1;31m\]'
ccGREEN='\[\e[1;32m\]'
ccYELLOW='\[\e[1;33m\]'
ccBLUE='\[\e[1;34m\]'
ccPURPLE='\[\e[1;35m\]'
ccTURQUOISE='\[\e[1;36m\]'
ccWHITE='\[\e[1;37m\]'
ccLIGHTGRAY='\[\e[00m\]'

# background color
bDARKGRAY='\e[40m'
bRED='\e[41m'
bGREEN='\e[42m'
bYELLOW='\e[43m'
bBLUE='\e[44m'
bPURPLE='\e[45m'
bTURQUOISE='\e[46m'
bWHITE='\e[47m'


# Color info
# Attribute codes:
#     00=none
#     01=bold
#     04=underscore
#     05=blink
#     07=reverse
#     08=concealed

# Text color codes:
#     30=black
#     31=red
#     32=green
#     33=yellow
#     34=blue
#     35=magenta
#     36=cyan
#     37=white

# Background color codes:
#     40=black
#     41=red
#     42=green
#     43=yellow
#     44=blue
#     45=magenta
#     46=cyan
#     47=white
colors-info() {
	local fgc bgc vals seq0

	printf "Color escapes are %s\n" '\e[${value};...;${value}m'
	printf "Values 30..37 are \e[33mforeground colors\e[m\n"
	printf "Values 40..47 are \e[43mbackground colors\e[m\n"
	printf "Value  1 gives a  \e[1mbold-faced look\e[m\n\n"

	# foreground colors
	for fgc in {30..37}; do
		# background colors
		for bgc in {40..47}; do
			fgc=${fgc#37} # white
			bgc=${bgc#40} # black

			vals="${fgc:+$fgc;}${bgc}"
			vals=${vals%%;}

			seq0="${vals:+\e[${vals}m}"
			printf "  %-9s" "${seq0:-(default)}"
			printf " ${seq0}TEXT\e[m"
			printf " \e[${vals:+${vals+$vals;}}1mBOLD\e[m"
		done
		echo; echo
	done
}

ask-prompt() {
	local dummyUser="user"
	local dummyHost="my-pc"
	local dummyBranch="[master]"
	local dummyDir="~/scripter"
	
	# default
	prompt1="$cGREEN$dummyUser@$dummyHost$cLIGHTGRAY:$cYELLOW$dummyBranch$cBLUE$dummyDir$cLIGHTGRAY\$ "
	# midnight
	prompt2="$cBLUE$dummyUser@$dummyHost$cLIGHTGRAY:$cTURQUOISE$dummyBranch$cPURPLE$dummyDir$cLIGHTGRAY\$ "

	echo -e "(1) Default  \t${prompt1}"
	echo -e "(2) Midnight \t${prompt2}"
}

change-prompt() {	
	sed -i -re "s/(theme:)[^:]*$/\1${1}/" $currentDir/term
}